<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LaunchPadPlus</title>
    <script src="scripts/boot.js" defer></script>
  </head>

  <body>
    <div id="app"></div>

    <!-- Name prompt modal -->
    <div id="lp-modal-root" class="lp-hidden" aria-hidden="true" style="display:none;">
      <div id="lp-modal-backdrop"></div>
      <section id="lp-modal" role="dialog" aria-modal="true" aria-label="LaunchPadPlus dialog">
        <header id="lp-modal-header">
          <div id="lp-modal-title">Dialog</div>
          <button id="lp-modal-x" type="button" title="Close" aria-label="Close">✕</button>
        </header>

        <div id="lp-modal-body">
          <label id="lp-modal-label" for="lp-modal-input">Name</label>
          <input id="lp-modal-input" type="text" autocomplete="off" />
          <div id="lp-modal-hint" class="lp-hint"></div>
        </div>

        <footer id="lp-modal-footer">
          <button id="lp-modal-cancel" type="button" class="lp-btn">Cancel</button>
          <button id="lp-modal-save" type="button" class="lp-btn primary">Save</button>
        </footer>
      </section>
    </div>

    <!-- Tile editor modal -->
    <div id="lp-tile-root" class="lp-hidden" aria-hidden="true" style="display:none;">
      <div id="lp-tile-backdrop"></div>
      <section id="lp-tile-modal" role="dialog" aria-modal="true" aria-label="LaunchPadPlus tile dialog">
        <header id="lp-tile-header">
          <div id="lp-tile-title">Add Tile</div>
          <button id="lp-tile-x" type="button" title="Close" aria-label="Close">✕</button>
        </header>

        <div id="lp-tile-body">
          <div class="lp-fieldset">
            <div class="lp-fieldset-title">Location</div>

            <label for="lp-tile-category">Category</label>
            <select id="lp-tile-category"></select>

            <label for="lp-tile-tab">Tab</label>
            <select id="lp-tile-tab"></select>

            <label for="lp-tile-subtab">Sub-tab</label>
            <select id="lp-tile-subtab"></select>
          </div>

          <label for="lp-tile-name">Title</label>
          <input id="lp-tile-name" type="text" autocomplete="off" placeholder="e.g., Best Buy" />

          <label for="lp-tile-url">URL</label>
          <input id="lp-tile-url" type="text" autocomplete="off" placeholder="https://..." />

          <label for="lp-tile-icon">Icon (optional)</label>
          <input id="lp-tile-icon" type="text" autocomplete="off" placeholder="(auto favicon unless you pick one)" />

          <div class="lp-icon-row">
            <img id="lp-tile-icon-preview" class="lp-icon-preview" alt="" />
            <div class="lp-icon-actions">
              <button id="lp-tile-icon-pick" type="button" class="lp-btn">Choose icon…</button>
              <button id="lp-tile-icon-clear" type="button" class="lp-btn">Clear</button>
              <input id="lp-tile-icon-file" type="file" accept="image/*" style="display:none;" />
            </div>
          </div>

          <div class="lp-hint" id="lp-tile-hint">
            Tip: Title auto-fills URL. Changing the Tab dropdown also influences the suggested URL.
          </div>
        </div>

        <footer id="lp-tile-footer">
          <button id="lp-tile-delete" type="button" class="lp-btn danger">Delete</button>
          <div class="lp-spacer"></div>
          <button id="lp-tile-cancel" type="button" class="lp-btn">Cancel</button>
          <button id="lp-tile-save" type="button" class="lp-btn primary">Save</button>
        </footer>
      </section>
    </div>

    <!-- Label editor modal -->
    <div id="lp-label-root" class="lp-hidden" aria-hidden="true" style="display:none;">
      <div id="lp-label-backdrop"></div>
      <section id="lp-label-modal" role="dialog" aria-modal="true" aria-label="LaunchPadPlus label dialog">
        <header id="lp-label-header">
          <div id="lp-label-title">Edit</div>
          <button id="lp-label-x" type="button" title="Close" aria-label="Close">✕</button>
        </header>

        <div id="lp-label-body">
          <label for="lp-label-input">Name</label>
          <input id="lp-label-input" type="text" autocomplete="off" />

          <div id="lp-label-category-row" class="lp-hidden">
            <label for="lp-label-category">Category</label>
            <select id="lp-label-category"></select>
          </div>
        </div>

        <footer id="lp-label-footer">
          <button id="lp-label-delete" type="button" class="lp-btn danger">Delete</button>
          <div class="lp-spacer"></div>
          <button id="lp-label-cancel" type="button" class="lp-btn">Cancel</button>
          <button id="lp-label-save" type="button" class="lp-btn primary">Save</button>
        </footer>
      </section>
    </div>

    <!-- Backup dialog -->
    <div id="lp-backup-root" class="lp-hidden" aria-hidden="true" style="display:none;">
      <div id="lp-backup-backdrop"></div>
      <section id="lp-backup-modal" role="dialog" aria-modal="true" aria-label="LaunchPadPlus backup dialog">
        <header id="lp-backup-header">
          <div id="lp-backup-title">Backup & Restore</div>
          <button id="lp-backup-x" type="button" title="Close" aria-label="Close">✕</button>
        </header>

        <div id="lp-backup-body">
          <div class="lp-hint">Tip: If you’ve got an external drive, saving backups there is a great idea.</div>

          <div class="lp-backup-row">
            <div class="lp-backup-label">Backup file</div>
            <div class="lp-backup-value" id="lp-backup-file-label">(not set)</div>
          </div>

          <div class="lp-backup-actions">
            <button id="lp-backup-choose" type="button" class="lp-btn">Choose file…</button>
            <button id="lp-backup-save" type="button" class="lp-btn primary">Save backup now</button>
            <button id="lp-backup-load" type="button" class="lp-btn">Load backup…</button>
          </div>

          <div class="lp-backup-row">
            <label class="lp-check">
              <input id="lp-backup-auto" type="checkbox" />
              <span>Auto-save on every change</span>
            </label>
          </div>

          <div class="lp-hint">Auto-save uses the same chosen file. First time you enable it, you’ll be asked to choose where to save.</div>
        </div>

        <footer id="lp-backup-footer">
          <div class="lp-spacer"></div>
          <button id="lp-backup-close" type="button" class="lp-btn">Close</button>
        </footer>
      </section>
    </div>

    <!-- Theme dialog -->
    <div id="lp-theme-root" class="lp-hidden" aria-hidden="true" style="display:none;">
      <div id="lp-theme-backdrop"></div>
      <section id="lp-theme-modal" role="dialog" aria-modal="true" aria-label="LaunchPadPlus theme dialog">
        <header id="lp-theme-header">
          <div id="lp-theme-title">Theme</div>
          <button id="lp-theme-x" type="button" title="Close" aria-label="Close">✕</button>
        </header>

        <div id="lp-theme-body">
          <div class="lp-hint">Pick a preset, or choose any background color and LaunchPadPlus will auto-build the rest with contrast.</div>

          <div class="lp-fieldset">
            <div class="lp-fieldset-title">Mode</div>

            <label class="lp-check">
              <input type="radio" name="lp-theme-mode" value="preset" />
              <span>Preset</span>
            </label>

            <label class="lp-check">
              <input type="radio" name="lp-theme-mode" value="custom" />
              <span>Custom background color</span>
            </label>
          </div>

          <div id="lp-theme-preset-wrap" class="lp-fieldset" style="display:none;">
            <div class="lp-fieldset-title">Preset</div>

            <label class="lp-check"><input type="radio" name="lp-theme-preset" value="dark" /><span>Dark</span></label>
            <label class="lp-check"><input type="radio" name="lp-theme-preset" value="medium" /><span>Medium</span></label>
            <label class="lp-check"><input type="radio" name="lp-theme-preset" value="light" /><span>Light</span></label>
          </div>

          <div id="lp-theme-custom-wrap" class="lp-fieldset" style="display:none;">
            <div class="lp-fieldset-title">Custom</div>
            <label for="lp-theme-color">Background color</label>
            <input id="lp-theme-color" type="color" value="#1a1a1a" />
            <div class="lp-hint">Everything else (panels, chips, borders, text) is derived automatically for contrast.</div>
          </div>
        </div>

        <footer id="lp-theme-footer">
          <div class="lp-spacer"></div>
          <button id="lp-theme-close" type="button" class="lp-btn">Close</button>
          <button id="lp-theme-save" type="button" class="lp-btn primary">Done</button>
        </footer>
      </section>
    </div>

    <!-- Help dialog (CUSTOM accordion) -->
    <div id="lp-help-root" class="lp-hidden" aria-hidden="true" style="display:none;">
      <div id="lp-help-backdrop"></div>
      <section id="lp-help-modal" role="dialog" aria-modal="true" aria-label="LaunchPadPlus help dialog">
        <header id="lp-help-header">
          <div id="lp-help-title">Help</div>
          <button id="lp-help-x" type="button" title="Close" aria-label="Close">✕</button>
        </header>

        <div id="lp-help-body">
          <div class="lp-hint">
            LaunchPadPlus is built for quick organizing. If something feels “broken,” it’s usually a rule. Here’s the cheat-sheet.
          </div>

          <div class="lp-help-tools">
            <button id="lp-help-expand" type="button" class="lp-btn">Expand all</button>
            <button id="lp-help-collapse" type="button" class="lp-btn">Collapse all</button>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Getting started (the big idea)
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <p><b>Think of it like folders:</b> Category → Tab → Sub-tab → Tiles.</p>
              <ul>
                <li>Select a <b>Category</b> to switch groups (Shopping, Entertainment, etc.).</li>
                <li>Select a <b>Tab</b> to narrow down inside that category.</li>
                <li>Select a <b>Sub-tab</b> to narrow down further (optional).</li>
                <li>Tiles are your clickable shortcuts.</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Adding tiles
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li>Click the <b>+</b> tile (always last) to add a tile.</li>
                <li>Title can auto-suggest the URL, but you can edit it.</li>
                <li>You can choose an icon (or it can use the site favicon).</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Editing & deleting things
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li><b>Right-click</b> a Category / Tab / Sub-tab / Tile to edit it.</li>
                <li>Tiles have a full edit dialog (title, URL, icon, and location).</li>
                <li>Some items are protected (see “Locked items”).</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Drag & drop ordering (click + hold)
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li><b>Click and hold</b>, then drag left/right, and release to drop.</li>
                <li>You’ll see a <b>left/right border highlight</b> showing where it will land.</li>
                <li>You can reorder within the same row only (Categories stay in Categories, etc.).</li>
                <li>Tiles can always be reordered in the Tiles grid.</li>
                <li>You cannot drag the “Add” buttons or the “+” tile.</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Locked items (not broken)
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li><b>General</b> Category is locked.</li>
                <li><b>All</b> Tabs (and All Sub-tabs) are locked.</li>
                <li>“Add” buttons and the “+” tile are not movable.</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Backup & restore
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li>Click <b>Backup</b> to save a full layout file (everything).</li>
                <li><b>Choose file</b> once, then saves go to that same file.</li>
                <li><b>Load backup</b> lets you restore a saved layout.</li>
                <li>Tip: saving backups to an external drive is a solid idea.</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Auto-save indicator
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li><b>Auto: Off</b> — auto-save is disabled.</li>
                <li><b>Auto: Pending</b> — a change happened and a save is queued.</li>
                <li><b>Auto: Saving…</b> — writing the backup file.</li>
                <li><b>Auto: Saved</b> — up to date.</li>
                <li><b>Auto: Needs file</b> — auto-save is on, but you haven’t chosen a save file yet.</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Theme
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li>Click <b>Theme</b> to pick a preset or choose your own background color.</li>
                <li>The page background changes, and all UI surfaces adapt to match.</li>
              </ul>
            </div>
          </div>

          <div class="lp-acc">
            <button class="lp-acc-summary" type="button" aria-expanded="false">
              Troubleshooting (common “it’s broken” moments)
              <span class="lp-acc-arrow">▾</span>
            </button>
            <div class="lp-acc-body" aria-hidden="true">
              <ul>
                <li><b>Can’t drag something?</b> It might be locked (General / All / Add buttons).</li>
                <li><b>Right-click does nothing?</b> Try right-clicking the button/tile area, not the empty page.</li>
                <li><b>Auto-save says “Needs file”</b> → open Backup and click “Choose file…”.</li>
                <li><b>Restore didn’t work</b> → make sure the file is a LaunchPadPlus backup JSON.</li>
              </ul>
            </div>
          </div>
        </div>

        <footer id="lp-help-footer">
          <div class="lp-spacer"></div>
          <button id="lp-help-close" type="button" class="lp-btn primary">Close</button>
        </footer>
      </section>
    </div>

    <!-- Toast -->
    <div id="lp-toast" class="lp-toast" aria-live="polite"></div>
  </body>
</html>
